!function(o){"use strict";function a(t){this.$el=t,this.$markers=this.$el.find(".nectar-text-inline-images__marker"),this.positionImages(),this.events()}a.prototype.positionImages=function(){this.$markers.each(function(t){var i=0<o(this).find("img").length?"img":"video",n;"video"==i&&(n=o(this).height(),o(this).find(i).css({width:1.7*n+"px"}));var i=o(this).find(i),i;0<i.length&&(i=i[0].getBoundingClientRect(),o(this)[0].style.width=i.width+"px")}),this.$el.addClass("nectar-text-inline-images--calculated")},a.prototype.events=function(){o(window).on("resize",this.positionImages.bind(this)),o(window).on("nectar-waypoints-reinit",this.waypoint.bind(this)),window.Waypoint?this.waypoint():o(window).on("salient-delayed-js-loaded",this.waypoint.bind(this))},a.prototype.waypoint=function(){var n=[],t=this;this.$el.hasClass("nectar-text-inline-images--stagger-animation")?n=new Waypoint({element:t.$el[0],handler:function(){t.$markers.each(function(t){var i=o(this);setTimeout(function(){i.addClass("animated-in")},150*t)}),n.destroy()},offset:"bottom-in-view"}):this.$markers.each(function(t){var i=o(this);n[t]=new Waypoint({element:o(this)[0],handler:function(){i.addClass("animated-in"),n[t].destroy()},offset:"bottom-in-view"})})};var r=[];function t(){r=[];var s=void 0!==window.vc_iframe;o(".nectar-text-inline-images").each(function(t){var i,n,e;0==s?(i=o(this),n=t,(e=new IntersectionObserver(function(t){t.forEach(function(t){t.isIntersecting&&(r[n]=new a(i),e.unobserve(t.target))})},{rootMargin:"300px 0px 300px 0px",threshold:0})).observe(i[0])):r[t]=new a(o(this))})}t(),o(window).on("vc_reload",function(){setTimeout(t,200)})}(jQuery);